<template name="pagesUsers">

  <br>


  <button class="btn btn-primary ms-3" type="button" id="btnTurnHome"> Home</button>

  <br>
  <br>

  <div class="pagesUsers container">

    <!-- LÄ°ST TABLE-->

    <div class="d-flex justify-content-center col-12 ">
      <h2>Users</h2>

    </div>
    <br>
    <hr>

    <div class="d-flex justify-content-center col-12 ">
      <div class="col-4">
        <input type="text" class="form-control" id="userSearchInputUsersPage" placeholder="Search">
      </div>
      <div class="col-2">
        <button type="button" class="btn btn-primary" id="btnUserSearch">Search</button>
      </div>
    </div>

    {{#if userResults}}
      <div class="search-results">
        <table class="table table-hover table-borderless">
          <div class="container d-flex ">

            <button id="btnShowUserResults" class="btn" type="button"><i
                class="fa-solid fa-arrows-up-down bg-dark text-white"></i></button>
            <h6 class="text-white mt-2">Search Results : </h6>
          </div>

          <tbody id="resultsUserBody">
            {{#each userResults}}
              <tr class="table-info">
                <td class="resultTd">
                  <img src="{{profilePhoto}}" class="rounded-circle " width="50" height="50"> 
                  <div class="container">
                    {{firstName}} - {{lastName}}
                  </div>
                  {{#if isFriend this}}
                    <td><button type="button" class="btn btn-danger " id="btnUnFriend">Unfollow</button></td>

                  {{else}}
                    <td><button type="button" class="btn btn-primary" id="btnAddFriend">Follow</button></td>
                  {{/if}}
                  
                </td>
              </tr>
            {{/each}}
          </tbody>
        </table>
        <div class="container mb-3" style="height: 20px;"></div>
      </div>
    {{/if}}


    <br>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Surname</th>
          <th scope="col">E-mail</th>
          <th scope="col">Current Play</th>
          <th scope="col">Add Follow</th>
        </tr>
      </thead>
      <tbody>
        {{#each allUsers}}
          <tr>
            <th scope="row">
              {{#if status.online}}
                <div class="profile-photo" style="background-color: #4bff1a">
                  <img src="{{profilePhoto}}" class="rounded-circle " width="50" height="50">
                </div>
              {{else}}
                <div class="profile-photo" style="background-color: #e31313">
                  <img src="{{profilePhoto}}" class="rounded-circle " width="50" height="50">
                </div>
              {{/if}}

            </th>

            <td>{{firstName}}</td>
            <td>{{lastName}}</td>
            <td>{{email}}</td>
            <td>{{currentPlay.name}}</td>
            {{#if isFriend this}}
              <td><button type="button" class="btn btn-danger " id="btnUnFriend">Unfollow</button></td>

            {{else}}
              <td><button type="button" class="btn btn-primary" id="btnAddFriend">Follow</button></td>
            {{/if}}

          </tr>
        {{/each}}
      </tbody>
    </table>



  </div>
  <div class="row">
    <div class="col-6">
      <div class="container bg-light rounded-5">
        <h6>Following</h6>
        <br>
        <ul>
          {{#each myFriends}}
            {{#with friend= (whoIs this._id)}}
              <li>{{friend.firstName}} {{friend.lastName}}</li>
            {{/with}}
          {{/each}}
        </ul>
      </div>
    </div>
    <div class="col-6">
      <div class="container bg-light rounded-5">
        <h6>Followers</h6>
        <br>
        <ul>
          {{#each myFollowers}}
            <!-- {{#with followers= (whoIs this._id)}}
              <li>{{friend.firstName}} {{friend.lastName}}</li>
            {{/with}} -->
            <li>{{followers}}</li>
          {{/each}}
        </ul>
      </div>
    </div>
  </div>








</template>